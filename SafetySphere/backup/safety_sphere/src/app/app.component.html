<nz-layout class="layout">
  <nz-sider
  nzCollapsible
  nzBreakpoint="lg"
  [nzCollapsedWidth]="0"
  [nzTrigger]="null"
  [nzWidth]="'100%'"
  [(nzCollapsed)]="isCollapsed"
  >

    <div class="sidebar-top-container">
      <div class="logo-wrap">
        <div class="logo-conatiner">
          <img src="https://ng.ant.design/assets/img/logo.svg" alt="logo" />
        </div>
        <h1>SafetySphere</h1>
      </div>

      <div>
        <button
          nz-button
          nzType="text"
          nzShape="circle"
          nzSize="large"
          (click)="isCollapsed = true"
      >
          <span
            nz-icon
            nzType="close-circle"
            nzTheme="fill"
            class="icon-close"
          ></span>
        </button>
      </div>
    </div>

    <ul
      nz-menu
      nzTheme="dark"
      nzMode="inline"
      [nzInlineCollapsed]="isCollapsed"
      (click)="isCollapsed = true"
    >
      <!-- <li nz-submenu nzOpen nzTitle="Dashboard" nzIcon="dashboard">
        <ul>
          <li nz-menu-item nzMatchRouter>
            <a routerLink="/welcome">Welcome</a>
          </li>
          <li nz-menu-item nzMatchRouter>
            <a>Monitor</a>
          </li>
          <li nz-menu-item nzMatchRouter>
            <a>Workplace</a>
          </li>
        </ul>
      </li>
      <li nz-submenu nzOpen nzTitle="Form" nzIcon="form">
        <ul>
          <li nz-menu-item nzMatchRouter>
            <a>Basic Form</a>
          </li>
        </ul>
      </li> -->

      <li nz-menu-item nzMatchRouter>
        <a routerLink="/login" class="login">注册/登入</a>
      </li>

      <li nz-menu-item nzMatchRouter>
        <a routerLink="/escape-route">Escape route</a>
      </li>

      <li nz-menu-item nzMatchRouter>
        <a routerLink="/incident-map">Incident Map</a>
      </li>

      <li nz-menu-item nzMatchRouter>
        <a routerLink="/report-incident">Report Incident</a>
      </li>
    </ul>
  </nz-sider>

  <nz-layout [hidden]="!isCollapsed" class="sub-layout">
    <nz-header class="header">
      <span
        class="menu"
        nz-icon
        [nzType]="isCollapsed ? 'menu-unfold' : 'menu-fold'"
        (click)="isCollapsed = !isCollapsed"
      ></span>

      <div class="left-badge-container" *ngIf="NearbyPlacesService.isEscaping">
        <div class="left-badge" nz-icon [nzType]="'sound'" [nzTheme]="'twotone'" [nzTwotoneColor]="iconSoundColor()" (click)="onSwitchAlarm()"></div>
        <div class="left-badge" nz-icon [nzType]="'sync'" (click)="onRestart()"></div>
        <div class="left-badge" nz-icon nzType="close" nzTheme="outline" (click)="onStopEscape()"></div>
      </div>
    </nz-header>

    <router-outlet></router-outlet>
  </nz-layout>
</nz-layout>