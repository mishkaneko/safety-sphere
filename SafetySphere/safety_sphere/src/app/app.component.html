<nz-layout class="layout">
  <nz-sider nzCollapsible nzBreakpoint="lg" [nzCollapsedWidth]="0" [nzTrigger]="null" [nzWidth]="'100%'"
    [(nzCollapsed)]="isCollapsed">

    <div class="sidebar-top-container">
      <div class="logo-wrap">
        <div class="logo-conatiner">
          <img src="https://ng.ant.design/assets/img/logo.svg" alt="logo" />
        </div>
        <h1>SafetySphere</h1>
      </div>

      <div>
        <button nz-button nzType="text" nzShape="circle" nzSize="large" (click)="isCollapsed = true">
          <span nz-icon nzType="close-circle" nzTheme="fill" class="icon-close"></span>
        </button>
      </div>
    </div>

    <ul nz-menu nzTheme="dark" nzMode="inline" [nzInlineCollapsed]="isCollapsed" (click)="isCollapsed = true">
      <!-- <li nz-submenu nzOpen nzTitle="Dashboard" nzIcon="dashboard">
        <ul>
          <li nz-menu-item nzMatchRouter>
            <a routerLink="/welcome">Welcome</a>
          </li>
          <li nz-menu-item nzMatchRouter>
            <a>Monitor</a>
          </li>
          <li nz-menu-item nzMatchRouter>
            <a>Workplace</a>
          </li>
        </ul>
      </li>
      <li nz-submenu nzOpen nzTitle="Form" nzIcon="form">
        <ul>
          <li nz-menu-item nzMatchRouter>
            <a>Basic Form</a>
          </li>
        </ul>
      </li> -->

      <li nz-menu-item nzMatchRouter>
        <a routerLink="/login" class="login">注册/登入</a>
      </li>

      <li nz-menu-item nzMatchRouter>
        <a routerLink="/escape-route">Escape route</a>
      </li>

      <li nz-menu-item nzMatchRouter>
        <a routerLink="/incident-map">事件地圖</a>
      </li>
      <li nz-menu-item nzMatchRouter>
        <a routerLink="/report-incident">報告事件</a>
      </li>
      <li nz-menu-item nzMatchRouter>
        <a routerLink="/report-incident-history">我的報告記錄</a>
      </li>
      <li nz-menu-item nzMatchRouter>
        <a routerLink="/user-profile">我的個人資料</a>
      </li>
    </ul>
  </nz-sider>

  <nz-layout [hidden]="!isCollapsed" class="sub-layout">
    <nz-header class="header">
      <span class="menu" nz-icon [nzType]="isCollapsed ? 'menu-unfold' : 'menu-fold'"
        (click)="isCollapsed = !isCollapsed"></span>

      <div class="left-badge-container" *ngIf="NearbyPlacesService.isEscaping">
        <div class="left-badge" nz-icon [nzType]="'sound'" [nzTheme]="'twotone'" [nzTwotoneColor]="iconSoundColor()"
          (click)="onSwitchAlarm()"></div>
        <div class="left-badge" nz-icon [nzType]="'sync'" (click)="onRestart()"></div>
        <div class="left-badge" nz-icon nzType="close" nzTheme="outline" (click)="onStopEscape()"></div>
      </div>

      <div class="nav-title-container badge-container" *ngIf="incidentMapService.showIncidentMapTitle">
        <h2>事件地圖</h2>
      </div>

      <div class="nav-title-container" *ngIf="reportIncidentService.showReportIncidentTitle">
        <h2>報告事件</h2>
      </div>

      <div class="nav-title-container" *ngIf="historyService.showReportIncidentHistoryTitle">
        <h2>我的報告記錄</h2>
      </div>

      <div class="nav-title-container" *ngIf="historyService.showEditIncidentTitle">
        <h2>編輯報告</h2>
      </div>

    </nz-header>

    <router-outlet></router-outlet>
  </nz-layout>
</nz-layout>